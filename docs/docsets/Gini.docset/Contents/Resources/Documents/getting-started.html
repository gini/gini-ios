<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Getting started  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="Getting started  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
        <img class="logo-icon" src="img/logo.png"/>
    
        </a>
        
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/gini/gini-ios">
            <img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">Gini Reference</a>
      <img class="carat" src="img/carat.png" />
      Getting started  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Documentation.html">Documentation</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="installation.html">Installation</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="getting-started.html">Getting started</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="changelog.html">Changelog</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="license.html">License</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/AccountingDocumentService.html">AccountingDocumentService</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/CancellationToken.html">CancellationToken</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DefaultDocumentService.html">DefaultDocumentService</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/GiniSDK.html">GiniSDK</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/GiniSDK/Builder.html">– Builder</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/APIDomain.html">APIDomain</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/GiniError.html">GiniError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/LogLevel.html">LogLevel</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/DocumentService.html">DocumentService</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Client.html">Client</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/CompositeDocument.html">CompositeDocument</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/CompositeDocumentInfo.html">CompositeDocumentInfo</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Document.html">Document</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Document/Layout.html">– Layout</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Document/Page.html">– Page</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Document/Progress.html">– Progress</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Document/Origin.html">– Origin</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Document/SourceClassification.html">– SourceClassification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Document/DocType.html">– DocType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Document/Links.html">– Links</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Document/TypeV2.html">– TypeV2</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Document/Metadata.html">– Metadata</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Extraction.html">Extraction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Extraction/Box.html">– Box</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Extraction/Candidate.html">– Candidate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/PartialDocumentInfo.html">PartialDocumentInfo</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Typealiases.html">Typealiases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:4Gini16CompletionResulta">CompletionResult</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other Classes.html">Other Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ExtractionResult.html">ExtractionResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Token.html">Token</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other Enumerations.html">Other Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/UserDomain.html">UserDomain</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other Extensions.html">Other Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Collection.html">Collection</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Data.html">Data</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/URLQueryItem.html">URLQueryItem</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other Protocols.html">Other Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/AlternativeTokenSource.html">AlternativeTokenSource</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            
            <h1 id='getting-started' class='heading'>Getting started</h1>

<p>The Gini library provides ways to interact with the Gini API and therefore, adds the possiblity to scan documents and retrieve the extractions from them.</p>
<h2 id='initializing-the-library' class='heading'>Initializing the library</h2>

<p>To initialize the library, you just need to provide the API credentials:</p>
<pre class="highlight swift"><code>    <span class="k">let</span> <span class="nv">sdk</span> <span class="o">=</span> <span class="kt">GiniSDK</span>
        <span class="o">.</span><span class="kt">Builder</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span> <span class="kt">Client</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="s">"your-id"</span><span class="p">,</span>
                                <span class="nv">secret</span><span class="p">:</span> <span class="s">"your-secret"</span><span class="p">,</span>
                                <span class="nv">domain</span><span class="p">:</span> <span class="s">"your-domain"</span><span class="p">))</span>
        <span class="o">.</span><span class="nf">build</span><span class="p">()</span>
</code></pre>

<p>Optionally if you want to use <em>Certificate pinning</em>, or use the <a href="https://accounting-api.gini.net/documentation/">Accounting API</a>, you can pass both your public key pinning configuration (see <a href="https://github.com/datatheorem/TrustKit">TrustKit repo</a> for more information) and the <em>API type</em> (the <a href="http://developer.gini.net/gini-api/html/index.html">Gini API</a> is used by default) as follows:</p>
<pre class="highlight swift"><code>    <span class="k">let</span> <span class="nv">yourPublicPinningConfig</span> <span class="o">=</span> <span class="p">[</span>
      <span class="nv">kTSKPinnedDomains</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">"api.gini.net"</span><span class="p">:</span> <span class="p">[</span>
          <span class="nv">kTSKPublicKeyHashes</span><span class="p">:</span> <span class="p">[</span>
            <span class="c1">// old *.gini.net public key</span>
            <span class="s">"cNzbGowA+LNeQ681yMm8ulHxXiGojHE8qAjI+M7bIxU="</span><span class="p">,</span>
            <span class="c1">// new *.gini.net public key, active from around June 2020</span>
            <span class="s">"zEVdOCzXU8euGVuMJYPr3DUU/d1CaKevtr0dW0XzZNo="</span>
        <span class="p">]],</span>
        <span class="s">"user.gini.net"</span><span class="p">:</span> <span class="p">[</span>
          <span class="nv">kTSKPublicKeyHashes</span><span class="p">:</span> <span class="p">[</span>
            <span class="c1">// old *.gini.net public key</span>
            <span class="s">"cNzbGowA+LNeQ681yMm8ulHxXiGojHE8qAjI+M7bIxU="</span><span class="p">,</span>
            <span class="c1">// new *.gini.net public key, active from around June 2020</span>
            <span class="s">"zEVdOCzXU8euGVuMJYPr3DUU/d1CaKevtr0dW0XzZNo="</span>
        <span class="p">]],</span>
    <span class="p">]]</span> <span class="k">as</span> <span class="p">[</span><span class="kt">String</span><span class="p">:</span> <span class="kt">Any</span><span class="p">]</span>

    <span class="k">let</span> <span class="nv">sdk</span> <span class="o">=</span> <span class="kt">GiniSDK</span>
        <span class="o">.</span><span class="kt">Builder</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span> <span class="kt">Client</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="s">"your-id"</span><span class="p">,</span>
                                <span class="nv">secret</span><span class="p">:</span> <span class="s">"your-secret"</span><span class="p">,</span>
                                <span class="nv">domain</span><span class="p">:</span> <span class="s">"your-domain"</span><span class="p">),</span>
                 <span class="nv">api</span><span class="p">:</span> <span class="o">.</span><span class="n">accounting</span><span class="p">,</span>
                 <span class="nv">pinningConfig</span><span class="p">:</span> <span class="n">yourPublicPinningConfig</span><span class="p">)</span>
        <span class="o">.</span><span class="nf">build</span><span class="p">()</span>
</code></pre>

<p>The current Gini API public key SHA256 hash digest in Base64 encoding can be extracted with the following openssl commands:</p>
<pre class="highlight shell"><code><span class="nv">$ </span>openssl s_client <span class="nt">-servername</span> gini.net <span class="nt">-connect</span> gini.net:443 | openssl x509 <span class="nt">-pubkey</span> <span class="nt">-noout</span> | openssl pkey <span class="nt">-pubin</span> <span class="nt">-outform</span> der | openssl dgst <span class="nt">-sha256</span> <span class="nt">-binary</span> | openssl enc <span class="nt">-base64</span>
</code></pre>

<p>If you want to use a transparent proxy with your own authentication you can specify your own domain and an <code><a href="Protocols/AlternativeTokenSource.html">AlternativeTokenSource</a></code> implementation:</p>
<pre class="highlight swift"><code>    <span class="k">let</span> <span class="nv">sdk</span> <span class="o">=</span> <span class="kt">GiniSDK</span>
        <span class="o">.</span><span class="kt">Builder</span><span class="p">(</span><span class="nv">customApiDomain</span><span class="p">:</span> <span class="s">"api.custom.net"</span><span class="p">,</span> 
                 <span class="nv">alternativeTokenSource</span><span class="p">:</span> <span class="kt">MyAlternativeTokenSource</span><span class="p">)</span>
        <span class="o">.</span><span class="nf">build</span><span class="p">()</span>
</code></pre>

<p>The token your provide will be added as a bearer token to all <code>api.custom.net</code> requests.</p>
<h2 id='using-the-library' class='heading'>Using the library</h2>

<p>Now that the <code><a href="Classes/GiniSDK.html">GiniSDK</a></code> has been initialized, you can start using it. To do so, just get the <em>Document service</em> from it. </p>

<p>On one hand, if you choose to continue with the <code>default</code> <em>Document service</em>, you should use the <code><a href="Classes/DefaultDocumentService.html">DefaultDocumentService</a></code>:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">documentService</span><span class="p">:</span> <span class="kt">DefaultDocumentService</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="nf">documentService</span><span class="p">()</span>
</code></pre>

<p>On the other hand, if you prefer to use the <code>accounting</code> <em>Document service</em>, just use the <code><a href="Classes/AccountingDocumentService.html">AccountingDocumentService</a></code> as follows:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">documentService</span><span class="p">:</span> <span class="kt">AccountingDocumentService</span> <span class="o">=</span> <span class="n">sdk</span><span class="o">.</span><span class="nf">documentService</span><span class="p">()</span>
</code></pre>

<p>You are all set 🚀! You can start using the Gini API through the <code>documentService</code>.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2021 <a class="link" href="https://gini.net" target="_blank" rel="external">Gini GmbH</a>. All rights reserved. (Last updated: 2021-09-13)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.1</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
